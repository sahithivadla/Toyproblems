
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
        <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <title>Todo</title>
        <style>

            ul li:hover {
            background: #ddd;
            }
            #error
            {
                color:red;
                font-weight: bold;
            }
            label{
                font-weight:bold;
                font-size: 18px;
            }

        </style>

    </head>
    <body>
            <div id="app" />
            <script type="text/babel">

        class App extends React.Component {
            constructor(props){
                super(props);

                //  var today = new Date(),
                // date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();

                this.state={
                    input:"",
                    time:"",
                    Tasks:[],
                    Timearr:[]
                    // date:date
                };
            }
            render(){

                return(

                    <div className="container">
                    <div className="row justify-center">
                    <div className="col-12">
                        <header>
                                <h1  style={{align: "center"}}>To Do List</h1>

                        </header>

                        <div className="input-group mb-3">
                        <input value={this.state.input}  className="form-control"  placeholder="add an item..." aria-label="Add an item" aria-describedby="basic-addon2" onChange={this.inputChange}/>
                        </div>

                        <div className="input-group mb-3">
                            <br/><br/>
                            <label>Select a time:</label>&nbsp;&nbsp;
                            <input value={this.state.time}id="appt" name="appt" onChange={this.inputtimeChange} className="form-control" type="time" id="appt" name="appt"/>
                        </div>

                        <div className="input-group-append">
                             &nbsp;
                            <button className="btn btn-secondary btn-lg btn-block" id="submit" onClick ={this.addTask}>Add</button>
                        </div>


                    <p id="error"></p>
                    <div className="col-12">
                        <ul className="list-group">
                                {this.state.Tasks.map((task, index) =>
                                   <div>
                                    <li key={index}   className="list-group-item" id={index} onClick={()=>this.strikeTask(index) }>

                                            {task }  {'Due time :' } {this.state.Timearr[index]}
                                    </li>
                                    <br/>
                                    <button data-index={index} onClick={this.deleteTask} className="btn btn-secondary btn-lg btn-block">DeleteTask</button>
                                    <br/>
                                    </div>

                                )}


                        </ul>
                    </div>
                    </div>
                </div>
                </div>

                        )
                    }


                inputChange = (event) => {
                    this.setState({
                        input: event.target.value,
                    })
                 }

                 inputtimeChange = (event) => {
                    this.setState({
                        time: event.target.value,
                    })
                 }

                addTask = (event) => {
                    if(this.state.input === "")
                    {
                        document.getElementById("error").innerHTML="You cant submit an empty task";
                        return;
                    }
                    else if(this.state.time === "")
                    {
                        document.getElementById("error").innerHTML="Give the due time";
                        return;
                    }
                    else
                    {
                        document.getElementById("error").innerHTML= "";
                    }
                    this.setState(state => ({
                        Tasks: [...state.Tasks, state.input],
                        Timearr :[... state.Timearr , state.time],
                        input: ""

                    }));
                }

                strikeTask =(index) => {
                    var contents= document.getElementById(index).textContent
                    document.getElementById(index).innerHTML = `<s>${contents}</s>`;
                    this.setState(state => {
                        const Tasks = [...this.state.Tasks];
                        Tasks.splice(index, 1);
                        const Timearr = [...this.state.Timearr];
                        Timearr.splice(index, 1);
                    });
                }

                deleteTask=(event) =>{
                    const index = event.target.dataset.index;
                    this.setState(state => {
                        const Tasks = [...this.state.Tasks];
                        Tasks.splice(index, 1);
                        return {
                            Tasks: Tasks
                        };
                    });

                }

                }

        ReactDOM.render(<App />, document.querySelector("#app"));

    </script>
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    </body>
    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>

</html>